//*************************************************************************************************
package jlib.input;
//*************************************************************************************************

import java.util.BitSet;

//*************************************************************************************************
public class InputDevice {

	//=============================================================================================
	private String name;
	private int[]  axes;
	private BitSet buttons;
	//=============================================================================================

	//=============================================================================================
	public InputDevice(String name, int naxes, int nbuttons) {
		this.name = name;
		axes = new int[naxes];
		buttons = new BitSet(nbuttons);
	}
	//=============================================================================================

	//=============================================================================================
	public String name() {
		return name;
	}
	//=============================================================================================
	
	//=============================================================================================
	public int axisCount() {
		return axes.length;
	}
	//=============================================================================================

	//=============================================================================================
	public int axis(int idx) {
		return axes[idx];
	}
	//=============================================================================================

	//=============================================================================================
	public void axis(int idx, int value) {
		if (axes[idx] !=  value )
			fireAxisChanged(idx, axes[idx], value);
		axes[idx] = value;		
	}
	//=============================================================================================
	
	//=============================================================================================
	public int buttonCount() {
		return buttons.size();
	}
	//=============================================================================================

	//=============================================================================================
	public boolean button(int idx) {
		return buttons.get(idx);
	}
	//=============================================================================================

	//=============================================================================================
	public void button(int idx, boolean state) {
		if (buttons.get(idx) != state)
			fireButtonChanged(idx, state);
		buttons.set(idx, state);
	}
	//=============================================================================================

	//=============================================================================================
	private void fireAxisChanged(int idx, int oldValue, int newValue) {
		
	}
	//=============================================================================================
	
	//=============================================================================================
	private void fireButtonChanged(int idx, boolean state) {
		
	}
	//=============================================================================================
	
	
}
//*************************************************************************************************
