//*************************************************************************************************
package jlib.platform;
//*************************************************************************************************

import com.jogamp.opengl.GLAutoDrawable;
import com.jogamp.opengl.GLEventListener;

import jlib.gui.GUI;

//*************************************************************************************************
class OpenGLEventHandler implements GLEventListener {

	//=============================================================================================
	private OpenGLGraphics graphics;
	private GUI gui;
	//=============================================================================================

	//=============================================================================================
	public OpenGLEventHandler(GUI gui) {
		graphics = new OpenGLGraphics();
		this.gui = gui;
	}
	//=============================================================================================

	//=============================================================================================
	public void init(GLAutoDrawable drawable) {
		graphics.init(drawable);
		gui.init(graphics);
	}
	//=============================================================================================

	//=============================================================================================
	public void reshape(GLAutoDrawable drawable, int x, int y, int width, int height) {}
	//=============================================================================================
	
	//=============================================================================================
	public void display(GLAutoDrawable drawable) {

		graphics.frameBegin();
		
		graphics.sceneMode();
		
		graphics.surfaceMode();
		gui.draw(graphics);

	}
	//=============================================================================================
	
	//=============================================================================================
	public void dispose(GLAutoDrawable drawable) {}
	//=============================================================================================

}
//*************************************************************************************************
