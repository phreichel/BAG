//*************************************************************************************************
package jlib.gui;
//*************************************************************************************************

import java.util.ArrayList;
import java.util.List;

import jlib.input.InputData;
import jlib.message.Message;
import jlib.message.MessageReceiver;
import jlib.platform.Graphics;

//*************************************************************************************************
public class GUI implements MessageReceiver {

	//=============================================================================================
	private List<Element> elements = new ArrayList<>();
	//=============================================================================================

	//=============================================================================================
	public int elements() {
		return elements.size();
	}
	//=============================================================================================

	//=============================================================================================
	public Element element(int idx) {
		return elements.get(idx);
	}
	//=============================================================================================

	//=============================================================================================
	public void insert(Element e) {
		if (!elements.contains(e))
			elements.add(e);
	}
	//=============================================================================================

	//=============================================================================================
	public void remove(Element e) {
		elements.remove(e);
	}
	//=============================================================================================

	//=============================================================================================
	public void init(Graphics g) {
	}
	//=============================================================================================

	//=============================================================================================
	public void receive(Message message) {
		switch (message.channel) {
		case Message.CH_INPUT:
			message.content(InputData.class);
			break;
		}
	}
	//=============================================================================================
	
	//=============================================================================================
	public void draw(Graphics g) {
		int n = elements();
		for (int i=0; i<n; i++) {
			int idx = n - i - 1;
			Element child = element(idx);
			float x = child.x();
			float y = child.y();
			g.push(x, y);
			child.draw(g);
			g.pop();
		}
	}
	//=============================================================================================

}
//*************************************************************************************************
