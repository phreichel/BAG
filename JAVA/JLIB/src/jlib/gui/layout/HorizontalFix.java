//*************************************************************************************************
package jlib.gui.layout;
//*************************************************************************************************

import jlib.gui.Element;

//*************************************************************************************************
public class HorizontalFix implements Layout {

	//=============================================================================================
	private float gap  = 0f;
	private float span = 100f;
	private Direction direction = Direction.REGULAR;
	//=============================================================================================

	//=============================================================================================
	public float gap() {
		return gap;
	}
	//=============================================================================================

	//=============================================================================================
	public void gap(float gap) {
		this.gap = gap;
	}
	//=============================================================================================

	//=============================================================================================
	public float span() {
		return span;
	}
	//=============================================================================================

	//=============================================================================================
	public void span(float span) {
		this.span = span;
	}
	//=============================================================================================

	//=============================================================================================
	public Direction direction() {
		return direction;
	}
	//=============================================================================================

	//=============================================================================================
	public void direction(Direction direction) {
		this.direction = direction;
	}
	//=============================================================================================

	//=============================================================================================
	public void apply(Element element) {
		switch (direction) {
			case REVERSE: applyReverse(element); break;
			default: applyRegular(element); break;
		}
	}
	//=============================================================================================
	
	//=============================================================================================
	private void applyRegular(Element element) {
		
		int n = element.elements();
		if (n==0) return;
		
		float w = span;
		float h = element.height();
		
		for (int i=0; i<n; i++) {
			
			var child = element.element(i);

			float x = (w+gap) * i;
			float y = 0f;

			child.position(x, y);
			child.size(w, h);
		}
		
	}
	//=============================================================================================

	//=============================================================================================
	private void applyReverse(Element element) {
		
		int n = element.elements();
		if (n==0) return;
		
		float w = span;
		float h = element.height();
		
		for (int i=0; i<n; i++) {

			int idx = n - i - 1;
			var child = element.element(idx);
			
			float x = element.width() - (w * (i+1) + gap * i);
			float y = 0f;

			child.position(x, y);
			child.size(w, h);
			
		}
		
	}
	//=============================================================================================
	
}
//*************************************************************************************************
