//*********************************************************************************************************************
package spark.clock;
//*********************************************************************************************************************

//*********************************************************************************************************************
public class Schedule {

	//=================================================================================================================
	private Clock clock;
	private long period;
	private long ticker;
	private int  times;
	//=================================================================================================================
	
	//=================================================================================================================
	Schedule(Clock clock, long period) {
		this.clock = clock;
		this.period = period;
		this.ticker = 0L;
		this.times = 0;
	}
	//=================================================================================================================

	//=================================================================================================================
	public void update(long delta) {
		this.ticker += delta;
	}
	//=================================================================================================================

	//=================================================================================================================
	public void dispose() {
		this.clock.dispose(this);
	}
	//=================================================================================================================
	
	//=================================================================================================================
	public int times() {
		return this.times;
	}
	//=================================================================================================================

	//=================================================================================================================
	public long period() {
		return this.period;
	}
	//=================================================================================================================

	//=================================================================================================================
	public float delta() {
		return (float) this.times * (float) this.period * 0.000000001f;
	}
	//=================================================================================================================
	
	//=================================================================================================================
	public boolean check() {
		this.times = (int) (this.ticker / this.period);
		if (this.times == 0) return false;
		this.ticker %= this.period;
		return true;
	}
	//=================================================================================================================
	
}
//*********************************************************************************************************************
