//*********************************************************************************************************************
package spark.gui;

import spark.platform.Action;
import spark.platform.Graphics;
import spark.platform.Input;
import spark.platform.Toggle;

//*********************************************************************************************************************

//*********************************************************************************************************************
public class GUI {

	//=================================================================================================================
	private Container container;
	private float width, height;
	private boolean enabled = true;
	//=================================================================================================================

	//=================================================================================================================
	public GUI() {
		container = new Container();
	}
	//=================================================================================================================

	//=================================================================================================================
	public void initGraphics(Graphics g) {
		g.fontCreate("DEFAULT", "Arial PLAIN 16");
		g.fontCreate("Label", "Arial PLAIN 16");
		g.fontCreate("Button", "Arial BOLD 16");
	}
	//=================================================================================================================
	
	//=================================================================================================================
	public void size(float w, float h) {
		float oldw = width;
		float oldh = height;
		width = w;
		height = h;
		container.resize(oldw, oldh, width, height);
	}
	//=================================================================================================================

	//=================================================================================================================
	public Container container() {
		return container;
	}
	//=================================================================================================================

	//=================================================================================================================
	public void layout(Graphics g) {
		container.layout(g);
	}
	//=================================================================================================================
	
	//=================================================================================================================
	public void render(Graphics g) {
		if (enabled) {
			container.render(g);
		}
	}
	//=================================================================================================================
	
	//=================================================================================================================
	public void handleInput(Input input) {
		
		if (enabled) {
			InputContext context = new InputContext();
			context.input = input;
			container.handleInput(context);
		}

		if (
			input.action().equals(Action.TOGGLE_RELEASED) &&
			input.toggle().equals(Toggle.KEYBOARD_ESCAPE)
			) {
			this.enabled(!this.enabled());
		}
		
	}
	//=================================================================================================================

	//=================================================================================================================
	public boolean enabled() {
		return enabled;
	}
	//=================================================================================================================

	//=================================================================================================================
	public void enabled(boolean enabled) {
		this.enabled = enabled;
	}
	//=================================================================================================================
	
}
//*********************************************************************************************************************
