//************************************************************************************************
package core.input.mapping;
//************************************************************************************************

import java.util.ArrayList;
import java.util.List;

import core.input.raw.InputEvent;


//************************************************************************************************
public class InputMapper {

	//============================================================================================
	private final InputState inputState = new InputState();
	private final List<IInputMapping> inputMappings = new ArrayList<>();
	//============================================================================================
	
	//============================================================================================
	public InputMapper() {
		this.inputState.clear();
	}
	//============================================================================================

	//============================================================================================
	public void addMapping(IInputMapping mapping) {
		if (!inputMappings.contains(mapping))
			inputMappings.add(mapping);
	}
	//============================================================================================

	//============================================================================================
	public boolean removeMapping(IInputMapping mapping) {
		return inputMappings.remove(mapping);
	}
	//============================================================================================
	
	//============================================================================================
	public void onInput(InputEvent input) {
		this.inputState.update(input);
		for (var mapping : inputMappings) {
			mapping.update(input, inputState);
		}
	}
	//============================================================================================

}
//************************************************************************************************
