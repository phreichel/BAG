//************************************************************************************************
package core.input;
//************************************************************************************************

import java.util.Arrays;
import java.util.EnumSet;
import java.util.Set;

import core.input.InputEvent.Axis;

//************************************************************************************************
public class ChordMapping implements IInputMapping {

	//============================================================================================
	private String ident = "";
	private Target target = Target.NONE;
	private InputEvent.Axis trigger = InputEvent.Axis.NONE;
	private Set<InputEvent.Axis> modifiers = EnumSet.noneOf(InputEvent.Axis.class);
	//============================================================================================

	//============================================================================================
	public ChordMapping(
			String ident,
			Target target,
			InputEvent.Axis trigger,
			InputEvent.Axis ... modifiers) {
		this.ident = ident;
		this.target = target;
		this.trigger = trigger;
		this.modifiers.addAll(Arrays.asList(modifiers));
	}
	//============================================================================================
	
	//============================================================================================
	@Override
	public Target getTarget() {
		return target;
	}
	//============================================================================================

	//============================================================================================
	@Override
	public String getIdent() {
		return ident;
	}
	//============================================================================================

	//============================================================================================
	public InputEvent.Axis getTrigger() {
		return trigger;
	}
	//============================================================================================
	
	//============================================================================================
	public Set<InputEvent.Axis> getModifiers() {
		return modifiers;
	}
	//============================================================================================
	
	//============================================================================================
	@Override
	public boolean matches(Set<Axis> axisStates, InputEvent event) {
		return axisStates.containsAll(modifiers) && event.axis.equals(trigger);
	}
	//============================================================================================

}
//************************************************************************************************
