//*************************************************************************************************
package mbot.app;
//*************************************************************************************************

import mbot.ui.MainFrame;
import mbot.ui.UserInterface;

//*************************************************************************************************
public class Application extends AbstractService implements Runnable {

	//=============================================================================================
	public UserInterface userInterface = null;
	//=============================================================================================

	//=============================================================================================
	public boolean terminated = true;
	//=============================================================================================
	
	//=============================================================================================
	public void inject() {
		userInterface = new UserInterface();
		userInterface.app = this;
		userInterface.mainFrame = new MainFrame();
	}
	//=============================================================================================
	
	//=============================================================================================
	public void init() {
		if (userInterface != null) userInterface.init();
	}
	//=============================================================================================

	//=============================================================================================
	public void update() {
		if (userInterface != null) userInterface.update();
	}
	//=============================================================================================

	//=============================================================================================
	public void done() {
		if (userInterface != null) userInterface.done();
	}
	//=============================================================================================
	
	//=============================================================================================
	public void run() {
		inject();
		init();
		terminated = false;
		while (!terminated) {
			update();
			try {
				Thread.sleep(10);
			} catch (Exception e) {
				e.printStackTrace();
				terminated = true;
			}
		}
		done();
	}
	//=============================================================================================
	
}
//*************************************************************************************************
